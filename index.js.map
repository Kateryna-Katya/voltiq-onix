{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * VOLTIQ-ONIX BLOG - CORE ENGINE 2026\n * ----------------------------------\n * Содержит: GSAP Animations, Vanilla ScrollReveal,\n * Mobile Menu, Tabs, Form Validation, Canvas BG.\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК И ПЛАГИНОВ\n  if (typeof lucide !== 'undefined') lucide.createIcons();\n  if (typeof gsap !== 'undefined') gsap.registerPlugin(ScrollTrigger);\n\n  // --- 2. МОБИЛЬНОЕ МЕНЮ (Z-INDEX FIX) ---\n  const burger = document.getElementById('burger-menu');\n  const nav = document.getElementById('nav-menu');\n  const overlay = document.getElementById('mobile-overlay');\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  const toggleMenu = (state) => {\n      const isActive = state !== undefined ? state : !nav.classList.contains('active');\n\n      burger.classList.toggle('active', isActive);\n      nav.classList.toggle('active', isActive);\n      overlay.classList.toggle('active', isActive);\n\n      // Блокируем скролл при открытом меню\n      document.body.style.overflow = isActive ? 'hidden' : '';\n  };\n\n  if (burger) {\n      burger.addEventListener('click', (e) => {\n          e.preventDefault();\n          toggleMenu();\n      });\n  }\n\n  if (overlay) overlay.addEventListener('click', () => toggleMenu(false));\n\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => toggleMenu(false));\n  });\n\n\n  // --- 3. HERO АНИМАЦИЯ (GSAP + SPLITTYPE) ---\n  // Используем типы 'words, chars', чтобы SplitType обернул слова в отдельные контейнеры\n  // CSS класс .word { white-space: nowrap; } предотвратит разрывы.\n  const heroTitleText = document.querySelector('.hero__title');\n  if (heroTitleText && typeof SplitType !== 'undefined') {\n      const heroTitle = new SplitType(heroTitleText, { types: 'words, chars' });\n      const heroDesc = new SplitType('.hero__description', { types: 'words' });\n\n      const heroTl = gsap.timeline({ defaults: { ease: \"power4.out\" } });\n\n      heroTl\n          .from('.hero__badge', { opacity: 0, y: -20, duration: 0.8, delay: 0.5 })\n          .from(heroTitle.chars, {\n              opacity: 0,\n              y: 50,\n              rotateX: -90,\n              stagger: 0.02,\n              duration: 1\n          }, \"-=0.5\")\n          .from(heroDesc.words, {\n              opacity: 0,\n              y: 10,\n              stagger: 0.01,\n              duration: 0.8\n          }, \"-=0.8\")\n          .from('.hero__actions', {\n              opacity: 0,\n              y: 30,\n              duration: 1,\n              clearProps: \"all\" // Очищаем стили после анимации для работы hover/z-index\n          }, \"-=0.6\")\n          .from('.glass-card', {\n              opacity: 0,\n              scale: 0.8,\n              stagger: 0.2,\n              duration: 1\n          }, \"-=1\");\n  }\n\n\n  // --- 4. ВАНИЛЬНЫЙ SCROLL REVEAL (INTERSECTION OBSERVER) ---\n  const revealObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('active');\n              revealObserver.unobserve(entry.target);\n          }\n      });\n  }, { threshold: 0.15 });\n\n  document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));\n\n\n  // --- 5. ТАБЫ (INNOVATIONS SECTION) ---\n  const tabButtons = document.querySelectorAll('.tab-btn');\n  const tabContents = document.querySelectorAll('.tab-content');\n\n  tabButtons.forEach(button => {\n      button.addEventListener('click', () => {\n          const target = button.getAttribute('data-tab');\n\n          tabButtons.forEach(btn => btn.classList.remove('active'));\n          tabContents.forEach(content => content.classList.remove('active'));\n\n          button.classList.add('active');\n          const activeContent = document.getElementById(target);\n          if (activeContent) activeContent.classList.add('active');\n\n          if (typeof lucide !== 'undefined') lucide.createIcons();\n      });\n  });\n\n\n  // --- 6. ФОРМА КОНТАКТОВ (VALIDATION + CAPTCHA) ---\n  const form = document.getElementById('contact-form');\n  if (form) {\n      const phoneInput = document.getElementById('phone');\n      const captchaLabel = document.getElementById('captcha-question');\n      const successMessage = document.getElementById('form-success');\n\n      // Генерация капчи\n      const n1 = Math.floor(Math.random() * 10) + 1;\n      const n2 = Math.floor(Math.random() * 10) + 1;\n      const correctResult = n1 + n2;\n      if (captchaLabel) captchaLabel.textContent = `${n1} + ${n2} = ?`;\n\n      // Валидация телефона (только цифры)\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9]/g, '');\n      });\n\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n          const userAns = parseInt(document.getElementById('captcha-answer').value);\n\n          if (userAns !== correctResult) {\n              alert('Ошибка: Математический ответ неверный.');\n              return;\n          }\n\n          const btn = form.querySelector('.form__submit');\n          btn.textContent = 'Обработка...';\n          btn.style.opacity = '0.5';\n          btn.disabled = true;\n\n          // Имитация отправки\n          setTimeout(() => {\n              successMessage.classList.add('active');\n              if (typeof lucide !== 'undefined') lucide.createIcons();\n          }, 1500);\n      });\n  }\n\n\n  // --- 7. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookie-popup');\n  const cookieAccept = document.getElementById('cookie-accept');\n\n  if (cookiePopup && !localStorage.getItem('voltiq_cookies_accepted')) {\n      setTimeout(() => cookiePopup.classList.add('active'), 3000);\n  }\n\n  if (cookieAccept) {\n      cookieAccept.addEventListener('click', () => {\n          localStorage.setItem('voltiq_cookies_accepted', 'true');\n          cookiePopup.classList.remove('active');\n      });\n  }\n\n\n  // --- 8. HEADER SCROLL EFFECT ---\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 60) {\n          header.style.padding = '12px 0';\n          header.style.background = 'rgba(0, 34, 255, 0.98)';\n      } else {\n          header.style.padding = '20px 0';\n          header.style.background = 'rgba(0, 34, 255, 0.8)';\n      }\n  });\n\n  // --- 9. HERO CANVAS (NEURAL NETWORK) ---\n  initHeroCanvas();\n});\n\n/**\n* Отрисовка интерактивного фона на Canvas\n*/\nfunction initHeroCanvas() {\n  const canvas = document.getElementById('hero-canvas');\n  if (!canvas) return;\n  const ctx = canvas.getContext('2d');\n  let particles = [];\n\n  const resize = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n  };\n\n  class Particle {\n      constructor() {\n          this.x = Math.random() * canvas.width;\n          this.y = Math.random() * canvas.height;\n          this.vx = (Math.random() - 0.5) * 0.4;\n          this.vy = (Math.random() - 0.5) * 0.4;\n          this.radius = Math.random() * 1.5 + 1;\n      }\n      update() {\n          this.x += this.vx;\n          this.y += this.vy;\n          if (this.x < 0 || this.x > canvas.width) this.vx *= -1;\n          if (this.y < 0 || this.y > canvas.height) this.vy *= -1;\n      }\n      draw() {\n          ctx.beginPath();\n          ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n          ctx.fillStyle = '#FF6B00';\n          ctx.fill();\n      }\n  }\n\n  const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      particles.forEach(p => {\n          p.update();\n          p.draw();\n      });\n\n      // Рисуем линии между точками\n      for (let i = 0; i < particles.length; i++) {\n          for (let j = i + 1; j < particles.length; j++) {\n              const dx = particles[i].x - particles[j].x;\n              const dy = particles[i].y - particles[j].y;\n              const dist = Math.sqrt(dx * dx + dy * dy);\n\n              if (dist < 150) {\n                  ctx.beginPath();\n                  ctx.strokeStyle = `rgba(255, 107, 0, ${1 - dist/150})`;\n                  ctx.lineWidth = 0.5;\n                  ctx.moveTo(particles[i].x, particles[i].y);\n                  ctx.lineTo(particles[j].x, particles[j].y);\n                  ctx.stroke();\n              }\n          }\n      }\n      requestAnimationFrame(animate);\n  };\n\n  window.addEventListener('resize', resize);\n  resize();\n\n  // Создаем частицы в зависимости от ширины экрана\n  const count = Math.min(Math.floor(window.innerWidth / 15), 100);\n  for (let i = 0; i < count; i++) {\n      particles.push(new Particle());\n  }\n  animate();\n}"],"names":["burger","nav","overlay","navLinks","toggleMenu","state","isActive","e","link","heroTitleText","heroTitle","heroDesc","revealObserver","entries","entry","el","tabButtons","tabContents","button","target","btn","content","activeContent","form","phoneInput","captchaLabel","successMessage","n1","n2","correctResult","cookiePopup","cookieAccept","header","initHeroCanvas","canvas","ctx","particles","resize","Particle","animate","p","j","dx","dy","dist","count"],"mappings":"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"}