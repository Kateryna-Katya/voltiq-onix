{"version":3,"file":"main-BPXYtnoC.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * VOLTIQ-ONIX 2026 - FINAL ENGINE (FULL SCREEN MENU)\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (typeof lucide !== 'undefined') lucide.createIcons();\n  if (typeof gsap !== 'undefined') gsap.registerPlugin(ScrollTrigger);\n\n  // --- 1. УПРАВЛЕНИЕ ПОЛНОЭКРАННЫМ МЕНЮ ---\n  const burger = document.getElementById('burger-menu');\n  const nav = document.getElementById('nav-menu');\n  const navLinks = document.querySelectorAll('.nav__link, .header__actions .btn');\n  const header = document.querySelector('.header');\n\n  const toggleMenu = (state) => {\n      const isActive = state !== undefined ? state : !nav.classList.contains('active');\n\n      burger.classList.toggle('active', isActive);\n      nav.classList.toggle('active', isActive);\n\n      // Блокируем скролл, чтобы при скролле внутри меню не двигался сайт\n      document.body.style.overflow = isActive ? 'hidden' : '';\n  };\n\n  if (burger) {\n      burger.addEventListener('click', (e) => {\n          e.preventDefault();\n          toggleMenu();\n      });\n  }\n\n  // Универсальная навигация: скролл на главной / переход с других страниц\n  navLinks.forEach(link => {\n      link.addEventListener('click', (e) => {\n          const href = link.getAttribute('href');\n\n          if (href && href.includes('#')) {\n              const parts = href.split('#');\n              const targetId = '#' + parts[parts.length - 1];\n              const targetElement = document.querySelector(targetId);\n\n              if (targetElement) {\n                  e.preventDefault();\n                  toggleMenu(false); // Закрываем полноэкранное меню\n\n                  setTimeout(() => {\n                      const hOffset = header.offsetHeight;\n                      const pos = targetElement.getBoundingClientRect().top + window.pageYOffset - hOffset;\n                      window.scrollTo({ top: pos, behavior: 'smooth' });\n                  }, 100);\n              } else {\n                  toggleMenu(false);\n              }\n          }\n      });\n  });\n\n  // --- 2. HERO АНИМАЦИЯ ---\n  const hTitle = document.querySelector('.hero__title');\n  if (hTitle && typeof SplitType !== 'undefined') {\n      const splitT = new SplitType(hTitle, { types: 'words, chars' });\n      const heroTl = gsap.timeline({ defaults: { ease: \"power4.out\" } });\n      heroTl.from('.hero__badge', { opacity: 0, y: -20, duration: 0.8, delay: 0.3 })\n            .from(splitT.chars, { opacity: 0, y: 50, rotateX: -90, stagger: 0.02, duration: 1 }, \"-=0.5\")\n            .from('.hero__description', { opacity: 0, y: 20, duration: 0.8 }, \"-=0.8\")\n            .from('.hero__actions', { opacity: 0, y: 20, duration: 0.8, clearProps: \"all\" }, \"-=0.5\");\n  }\n\n  // --- 3. SCROLL REVEAL (ВАННИЛА) ---\n  const revObs = new IntersectionObserver((ents) => {\n      ents.forEach(en => { if (en.isIntersecting) { en.target.classList.add('active'); revObs.unobserve(en.target); } });\n  }, { threshold: 0.15 });\n  document.querySelectorAll('.reveal').forEach(el => revObs.observe(el));\n\n  // --- 4. ТАБЫ ---\n  document.querySelectorAll('.tab-btn').forEach(btn => {\n      btn.addEventListener('click', () => {\n          const id = btn.getAttribute('data-tab');\n          document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));\n          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));\n          btn.classList.add('active');\n          const target = document.getElementById(id);\n          if (target) target.classList.add('active');\n          if (typeof lucide !== 'undefined') lucide.createIcons();\n      });\n  });\n\n  // --- 5. ФОРМА ---\n  const f = document.getElementById('contact-form');\n  if (f) {\n      const ph = document.getElementById('phone');\n      const capL = document.getElementById('captcha-question');\n      const v1 = Math.floor(Math.random() * 10), v2 = Math.floor(Math.random() * 5) + 1, res = v1 + v2;\n      if (capL) capL.textContent = `${v1} + ${v2} = ?`;\n      ph.addEventListener('input', (e) => e.target.value = e.target.value.replace(/[^0-9]/g, ''));\n      f.addEventListener('submit', (e) => {\n          e.preventDefault();\n          if (parseInt(document.getElementById('captcha-answer').value) !== res) { alert('Ошибка капчи'); return; }\n          f.querySelector('.form__submit').textContent = 'Отправка...';\n          setTimeout(() => { document.getElementById('form-success').classList.add('active'); if (typeof lucide !== 'undefined') lucide.createIcons(); }, 1500);\n      });\n  }\n\n  // --- 6. COOKIE ---\n  const cp = document.getElementById('cookie-popup'), ca = document.getElementById('cookie-accept');\n  if (cp && !localStorage.getItem('voltiq_onix_c')) setTimeout(() => cp.classList.add('active'), 3000);\n  if (ca) ca.addEventListener('click', () => { localStorage.setItem('voltiq_onix_c', 't'); cp.classList.remove('active'); });\n\n  // --- 7. HEADER EFFECT ---\n  window.addEventListener('scroll', () => {\n      header.style.padding = window.scrollY > 50 ? '10px 0' : '20px 0';\n      header.style.background = window.scrollY > 50 ? 'rgba(0, 34, 255, 0.98)' : 'rgba(0, 34, 255, 0.8)';\n  });\n\n  // --- 8. CANVAS BG ---\n  initHeroCanvas();\n});\n\nfunction initHeroCanvas() {\n  const canvas = document.getElementById('hero-canvas'); if (!canvas) return;\n  const ctx = canvas.getContext('2d');\n  let particles = [];\n  const resize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };\n  class P {\n      constructor() { this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height; this.vx = (Math.random()-0.5)*0.3; this.vy = (Math.random()-0.5)*0.3; }\n      update() { this.x+=this.vx; this.y+=this.vy; if(this.x<0||this.x>canvas.width)this.vx*=-1; if(this.y<0||this.y>canvas.height)this.vy*=-1; }\n  }\n  const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      particles.forEach(p => {\n          p.update(); ctx.beginPath(); ctx.arc(p.x, p.y, 1.2, 0, Math.PI*2);\n          ctx.fillStyle = 'rgba(255, 107, 0, 0.6)'; ctx.fill();\n      });\n      for (let i = 0; i < particles.length; i++) {\n          for (let j = i + 1; j < particles.length; j++) {\n              const dx = particles[i].x - particles[j].x, dy = particles[i].y - particles[j].y, d = Math.sqrt(dx*dx+dy*dy);\n              if (d < 140) { ctx.beginPath(); ctx.strokeStyle = `rgba(255, 107, 0, ${1 - d/140})`; ctx.lineWidth = 0.4; ctx.moveTo(particles[i].x, particles[i].y); ctx.lineTo(particles[j].x, particles[j].y); ctx.stroke(); }\n          }\n      }\n      requestAnimationFrame(animate);\n  };\n  window.addEventListener('resize', resize);\n  resize();\n  for (let i = 0; i < 80; i++) particles.push(new P());\n  animate();\n}"],"names":["burger","nav","navLinks","header","toggleMenu","state","isActive","e","link","href","parts","targetId","targetElement","hOffset","pos","hTitle","splitT","revObs","ents","en","el","btn","id","b","c","target","f","ph","capL","v1","v2","res","cp","ca","initHeroCanvas","canvas","ctx","particles","resize","P","animate","p","i","j","dx","dy","d"],"mappings":"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"}